{# src/Sujet2/DevSpeBundle/Resources/views/Sujet2View/formulaire_phase1.html.twig #}

<div id="alerte" class="alert alert-error" style="display:none"> <strong>La date de retour doit être postérieure à la date de départ !</strong> </div>   
 
<form method="post" {{ form_enctype(form) }}>
   <div>
		<label for="form_sesLibelle">Nom de la session :</label> 
		<input type="text" id="form_sesLibelle" name="form[sesLibelle]" /><br><br>
	   
		<label for="form_dateOuv">Date Ouverture :</label>	   
		<input type="text" id="form_dateOuv" name="form[dateOuv]" class="input-mini" data-date-format="dd/mm/yy"/><br><br>
	   
		<label for="form_dateClo">Date Ouverture :</label>
		<input type="text" id="form_dateClo" name="form[dateClo]" class="input-mini" data-date-format="dd/mm/yy"/><br>
		
		<br><br>
		<input type="submit" class="btn btn-primary" />
	</div>
</form>


<script src="{{asset('js/jquery.js')}}"></script>
<script src="{{ asset('js/bootstrap-datepicker.js')}}" ></script> 
<script>

$(function (){
   function get_date(text) {
    var d_split = text.split('/');
    var d = new Date(0);
    return d.setFullYear(d_split[2], d_split[1], d_split[0])
   }
   $('#form_dateOuv, #form_dateClo').datepicker().on('changeDate', function(e){
    if(get_date($('#form_dateOuv').val()) >= get_date($('#form_dateClo').val()))
            $('#alerte').show();
    else $('#alerte').hide();
 
   });
});    

</script>

